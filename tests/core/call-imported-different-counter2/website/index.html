<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebAssembly Test</title>
</head>

<body>
  <script>
    (async function () {
      const startTime = performance.now();
      let instance;
      let counter_200 = 0
      function imported() {
        counter_200 += 1
        if (counter_200 === 1) {
          return counter_200
        } else if (counter_200 === 2) {
          instance.exports.callImportedTwice();
          instance.exports.noop();
          return counter_200
        } else if (counter_200 == 3) {
          return counter_200
        }
        {
          return counter_200
        }
      }
      let imports = {
        env: {
          imported: imported,
        },
      };
      const indexResponse = await fetch("index.wasm");
      const indexBinary = await indexResponse.arrayBuffer();
      let wasm = await WebAssembly.instantiate(indexBinary, imports);
      instance = wasm.instance;
      instance.exports.callImportedTwice();
      imported()
      instance.exports.callImportedTwice();
      const endTime = performance.now();
      const executionTime = endTime - startTime;
      const executionTimeElement = document.createElement('p');
      executionTimeElement.textContent = `Execution time: ${executionTime} milliseconds`;
      document.body.appendChild(executionTimeElement);
    })();
  </script>
</body>

</html>